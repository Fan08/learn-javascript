<!--
 * @Descripttion: 
 * @version: 
 * @Author: 唐帆
 * @Date: 2020-04-12 10:14:37
 * @LastEditors: 唐帆
 * @LastEditTime: 2020-04-12 10:46:07
 -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button>点击</button>
    <button>点击</button>
    <button>点击</button>
    <button>点击</button>
    <script>
        const o = {
            name: 'andy'
        };

        function fn(arr) {
            console.log(this);
            console.log(arr);   // 'pink'

        };

        fn.apply(o, ['pink']);
        // 主要运用：利用 apply 和数学内置对象求最大值
        const arr = [1, 66, 3, 99];
        const max = Math.max.apply(Math, arr);
        const min = Math.min.apply(Math, arr);
        console.log(max, min);

        // 不会调用 fn，返回一个新函数
        const f = fn.bind(o);
        f();

        // 应用于不需要立即执行，但有需要改变 this 指向的情况
        // bind 中的 this 指向调用对象，而不是 window
        const btn = document.querySelector('button');
        btn.onclick = function () {
            this.disabled = true;
            setTimeout(function () {
                this.disabled = false
            }.bind(this), 3000)
        };

        const btns = document.querySelectorAll('button');
        for (let i = 0; i < btns.length; i++) {
            btns[i].onclick = function () {
                this.disabled = true;
                setTimeout(function () {
                    this.disabled = false
                }.bind(this), 3000)
            }
        }
    </script>
</body>

</html>